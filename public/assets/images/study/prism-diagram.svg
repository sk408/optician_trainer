<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600">
  <title>Optical Prisms in Optometry</title>
  <defs>
    <linearGradient id="prismGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#d4f1f9" stop-opacity="0.8" />
      <stop offset="100%" stop-color="#87ceeb" stop-opacity="0.8" />
    </linearGradient>
    <linearGradient id="eyeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#ffffff" />
      <stop offset="100%" stop-color="#e0e0ff" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2" />
      <feOffset dx="2" dy="2" result="offsetblur" />
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.2" />
      </feComponentTransfer>
      <feMerge>
        <feMergeNode />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333333" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#f8f8f8" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333333">Optical Prisms in Optometry</text>
  
  <!-- BASIC PRISM DIAGRAM -->
  <g transform="translate(190, 150)">
    <text x="0" y="-50" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333333">BASIC PRISM REFRACTION</text>
    
    <!-- Prism -->
    <path d="M -40,-60 L 60,-20 L 20,60 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="1.5" />
    
    <!-- Light Path -->
    <path d="M -100,-20 L -40,-40 L 60,-20 L 140,20" stroke="#ffcc00" stroke-width="2" stroke-linecap="round" fill="none" />
    
    <!-- Annotations -->
    <text x="-75" y="-10" font-family="Arial, sans-serif" font-size="12" fill="#333333">Incident Ray</text>
    <text x="90" y="40" font-family="Arial, sans-serif" font-size="12" fill="#333333">Refracted Ray</text>
    
    <line x1="20" y1="-40" x2="40" y2="-70" stroke="#333333" stroke-width="1" stroke-dasharray="3,2" />
    <text x="60" y="-60" font-family="Arial, sans-serif" font-size="12" fill="#333333">Apex</text>
    
    <line x1="-10" y1="30" x2="-40" y2="80" stroke="#333333" stroke-width="1" stroke-dasharray="3,2" />
    <text x="-40" y="95" font-family="Arial, sans-serif" font-size="12" fill="#333333">Base</text>
    
    <!-- Angles -->
    <path d="M -70,-30 A 20 20 0 0 1 -50,-50" fill="none" stroke="#333333" stroke-width="1" />
    <text x="-70" y="-50" font-family="Arial, sans-serif" font-size="11" fill="#333333">θ₁</text>
    
    <path d="M 100,0 A 20 20 0 0 0 80,-15" fill="none" stroke="#333333" stroke-width="1" />
    <text x="90" y="-5" font-family="Arial, sans-serif" font-size="11" fill="#333333">θ₂</text>
    
    <!-- Description -->
    <text x="0" y="130" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Light bends toward the base of the prism</text>
    <text x="0" y="150" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Measured in prism diopters (Δ)</text>
  </g>
  
  <!-- PRISM ORIENTATION -->
  <g transform="translate(600, 150)">
    <text x="0" y="-50" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333333">PRISM ORIENTATION</text>
    
    <!-- Coordinate System -->
    <circle cx="0" cy="0" r="70" fill="none" stroke="#cccccc" stroke-width="1" />
    <line x1="-80" y1="0" x2="80" y2="0" stroke="#333333" stroke-width="1" />
    <line x1="0" y1="-80" x2="0" y2="80" stroke="#333333" stroke-width="1" />
    
    <!-- Orientation Labels -->
    <text x="0" y="-85" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Superior (90°)</text>
    <text x="0" y="95" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Inferior (270°)</text>
    <text x="-95" y="5" font-family="Arial, sans-serif" font-size="12" text-anchor="end" fill="#333333">Nasal (180°)</text>
    <text x="95" y="5" font-family="Arial, sans-serif" font-size="12" text-anchor="start" fill="#333333">Temporal (0°)</text>
    
    <!-- Example Prisms -->
    <path d="M -15,-15 L 15,-15 L 0,15 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="1" />
    <text x="0" y="35" font-family="Arial, sans-serif" font-size="11" fill="#333333">Base Down</text>
    
    <path d="M -35,30 L -35,60 L -65,45 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="1" />
    <text x="-50" y="75" font-family="Arial, sans-serif" font-size="11" fill="#333333">Base Out</text>
    
    <path d="M 35,30 L 35,60 L 65,45 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="1" />
    <text x="50" y="75" font-family="Arial, sans-serif" font-size="11" fill="#333333">Base In</text>
    
    <!-- Description -->
    <text x="0" y="120" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Prism direction is described by the</text>
    <text x="0" y="135" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">orientation of its base</text>
  </g>
  
  <!-- CLINICAL APPLICATION: DIPLOPIA -->
  <g transform="translate(200, 380)">
    <text x="0" y="-60" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333333">DIPLOPIA CORRECTION</text>
    
    <!-- Eyes with Misalignment -->
    <g>
      <!-- Left Eye -->
      <ellipse cx="-60" cy="0" rx="30" ry="25" fill="url(#eyeGradient)" stroke="#333333" stroke-width="1.5" />
      <circle cx="-60" cy="0" r="10" fill="#5555aa" />
      <circle cx="-60" cy="0" r="5" fill="#000000" />
      
      <!-- Right Eye -->
      <ellipse cx="60" cy="0" rx="30" ry="25" fill="url(#eyeGradient)" stroke="#333333" stroke-width="1.5" />
      <circle cx="60" cy="0" r="10" fill="#5555aa" />
      <circle cx="60" cy="0" r="5" fill="#000000" />
      
      <!-- Misalignment -->
      <line x1="-60" y1="0" x2="-120" y2="-30" stroke="#ff0000" stroke-width="1.5" stroke-dasharray="4,2" />
      <line x1="60" y1="0" x2="0" y2="-60" stroke="#0000ff" stroke-width="1.5" stroke-dasharray="4,2" />
      
      <circle cx="-90" cy="-15" r="5" fill="#ff0000" />
      <circle cx="30" cy="-30" r="5" fill="#0000ff" />
      
      <text x="-90" y="-25" font-family="Arial, sans-serif" font-size="12" fill="#333333">Image 1</text>
      <text x="30" y="-40" font-family="Arial, sans-serif" font-size="12" fill="#333333">Image 2</text>
    </g>
    
    <!-- Correction -->
    <g transform="translate(0, 100)">
      <!-- Left Eye -->
      <ellipse cx="-60" cy="0" rx="30" ry="25" fill="url(#eyeGradient)" stroke="#333333" stroke-width="1.5" />
      <circle cx="-60" cy="0" r="10" fill="#5555aa" />
      <circle cx="-60" cy="0" r="5" fill="#000000" />
      
      <!-- Prism -->
      <path d="M -85,-25 L -35,-25 L -60,-5 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="1.5" />
      
      <!-- Right Eye -->
      <ellipse cx="60" cy="0" rx="30" ry="25" fill="url(#eyeGradient)" stroke="#333333" stroke-width="1.5" />
      <circle cx="60" cy="0" r="10" fill="#5555aa" />
      <circle cx="60" cy="0" r="5" fill="#000000" />
      
      <!-- Aligned Vision -->
      <line x1="-60" y1="0" x2="0" y2="-60" stroke="#ff0000" stroke-width="1.5" stroke-dasharray="4,2" />
      <line x1="60" y1="0" x2="0" y2="-60" stroke="#0000ff" stroke-width="1.5" stroke-dasharray="4,2" />
      
      <circle cx="0" cy="-60" r="5" fill="#aa00aa" />
      <text x="0" y="-70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Single Image</text>
    </g>
  </g>
  
  <!-- FRESNEL PRISMS -->
  <g transform="translate(600, 380)">
    <text x="0" y="-60" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333333">FRESNEL PRISMS</text>
    
    <!-- Regular Prism vs Fresnel -->
    <g transform="translate(-80, 0) scale(0.8)">
      <path d="M -40,-40 L 40,-40 L 0,40 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="1.5" />
      <text x="0" y="60" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Regular Prism</text>
    </g>
    
    <g transform="translate(80, 0) scale(0.8)">
      <rect x="-40" y="-40" width="80" height="15" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="1" />
      <path d="M -40,-25 L -32,-25 L -40,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M -32,-25 L -24,-25 L -32,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M -24,-25 L -16,-25 L -24,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M -16,-25 L -8,-25 L -16,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M -8,-25 L 0,-25 L -8,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M 0,-25 L 8,-25 L 0,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M 8,-25 L 16,-25 L 8,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M 16,-25 L 24,-25 L 16,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M 24,-25 L 32,-25 L 24,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <path d="M 32,-25 L 40,-25 L 32,-10 Z" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="0.5" />
      <rect x="-40" y="-10" width="80" height="15" fill="url(#prismGradient)" stroke="#0066cc" stroke-width="1" />
      <text x="0" y="60" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Fresnel Prism</text>
    </g>
    
    <!-- Spectacle Lens with Fresnel -->
    <g transform="translate(0, 100)">
      <ellipse cx="0" cy="0" rx="70" ry="60" fill="none" stroke="#333333" stroke-width="1" stroke-dasharray="3,2" />
      <ellipse cx="0" cy="0" rx="60" ry="50" fill="#d0e8ff" fill-opacity="0.3" stroke="#0066cc" stroke-width="1" />
      
      <!-- Fresnel Prism on Lens -->
      <rect x="-40" y="-20" width="80" height="40" fill="url(#prismGradient)" fill-opacity="0.5" stroke="#0066cc" stroke-width="0.5" stroke-dasharray="3,1" />
      
      <text x="0" y="70" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Press-on Fresnel prism</text>
      <text x="0" y="85" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">applied to spectacle lens</text>
    </g>
  </g>
  
  <!-- INFORMATION BOX -->
  <rect x="300" y="520" width="200" height="60" rx="10" ry="10" fill="#efefef" stroke="#333333" stroke-width="1" />
  <text x="400" y="540" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333333">PRISM DIOPTER (Δ)</text>
  <text x="400" y="560" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">1Δ = 1cm displacement at 1 meter distance</text>
  <text x="400" y="575" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">Power = 100 × tan(angle of deviation)</text>
</svg> 