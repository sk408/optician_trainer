import{h as M,j as e,r as n,C as w,B as d,a9 as Y,T as c,P,m as x,a as v,I as D,D as Z}from"./index-DIEyTL6a.js";import{e as _,n as ee}from"./ncleTopics-DQTafvxE.js";import{T as se,a as O}from"./Tabs-DfAr_S3K.js";import{G as j}from"./Grid-DnG59OeU.js";import{F as L}from"./FormControl-CzX1PsDT.js";import{I as N,S as $}from"./Select-CPvEGI-B.js";import{B}from"./BookmarkBorder-CxTP2d_F.js";import{C as y}from"./Chip-BtwHhhH3.js";import{C as H,a as W}from"./CardContent-C-SrJ-0f.js";import{C as te}from"./CardActions-Bs62tR84.js";import{A as ae}from"./ArrowBack-BK71H3xt.js";import{A as ie}from"./ArrowForward-0owXsHWv.js";const I=M(e.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),le=M(e.jsx("path",{d:"M9 7H7v2h2zm0 4H7v2h2zm0-8c-1.11 0-2 .9-2 2h2zm4 12h-2v2h2zm6-12v2h2c0-1.1-.9-2-2-2m-6 0h-2v2h2zM9 17v-2H7c0 1.1.89 2 2 2m10-4h2v-2h-2zm0-4h2V7h-2zm0 8c1.1 0 2-.9 2-2h-2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5zm10-2h2V3h-2zm0 12h2v-2h-2z"}),"FlipToBack"),re=()=>{const m=[];return _.forEach(o=>{o.topics.forEach(t=>{m.push({id:`abo-${t.id}-main`,term:t.title,definition:t.description,examType:"ABO",section:o.id,difficulty:t.difficulty}),t.keyPoints.forEach((h,a)=>{m.push({id:`abo-${t.id}-kp-${a}`,term:`${t.title}: Key Point`,definition:h,examType:"ABO",section:o.id,difficulty:t.difficulty})})})}),ee.forEach(o=>{o.topics.forEach(t=>{m.push({id:`ncle-${t.id}-main`,term:t.title,definition:t.description,examType:"NCLE",section:o.id,difficulty:t.difficulty}),t.keyPoints.forEach((h,a)=>{m.push({id:`ncle-${t.id}-kp-${a}`,term:`${t.title}: Key Point`,definition:h,examType:"NCLE",section:o.id,difficulty:t.difficulty})})})}),m},ke=()=>{const[m,o]=n.useState(!0),[t,h]=n.useState([]),[a,T]=n.useState([]),[i,C]=n.useState(0),[f,k]=n.useState(!1),[b,E]=n.useState("all"),[g,S]=n.useState("all"),[u,A]=n.useState(!1),[F,V]=n.useState(0);n.useEffect(()=>{o(!0);const s=re(),r=JSON.parse(localStorage.getItem("bookmarkedFlashcards")||"[]"),p=s.map(l=>({...l,bookmarked:r.includes(l.id)}));h(p),T(p),o(!1)},[]),n.useEffect(()=>{const s=t.filter(r=>{const p=b==="all"||r.examType===b,l=g==="all"||r.difficulty===g,X=!u||r.bookmarked;return p&&l&&X});T(s),C(0),k(!1)},[b,g,u,t]);const G=(s,r)=>{V(r)},J=s=>{E(s.target.value)},K=s=>{S(s.target.value)},z=s=>{const r=t.map(l=>l.id===s?{...l,bookmarked:!l.bookmarked}:l);h(r);const p=r.filter(l=>l.bookmarked).map(l=>l.id);localStorage.setItem("bookmarkedFlashcards",JSON.stringify(p))},R=()=>{A(!u)},q=()=>{k(!f)},Q=()=>{i<a.length-1&&(C(i+1),k(!1))},U=()=>{i>0&&(C(i-1),k(!1))};return m?e.jsx(w,{maxWidth:!1,children:e.jsx(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:e.jsx(Y,{})})}):e.jsxs(w,{maxWidth:!1,sx:{py:4},children:[e.jsx(c,{variant:"h4",gutterBottom:!0,children:"ABO-NCLE Flashcards"}),e.jsx(c,{variant:"subtitle1",color:"text.secondary",paragraph:!0,children:"Study key concepts with these interactive flashcards. Click cards to flip between terms and definitions."}),e.jsxs(P,{sx:{p:3,mb:4},children:[e.jsxs(se,{value:F,onChange:G,sx:{mb:3},children:[e.jsx(O,{label:"Study Flashcards"}),e.jsx(O,{label:"Browse All"})]}),e.jsxs(j,{container:!0,spacing:3,children:[e.jsx(j,{item:!0,xs:12,sm:4,children:e.jsxs(L,{fullWidth:!0,children:[e.jsx(N,{id:"exam-type-label",children:"Exam Type"}),e.jsxs($,{labelId:"exam-type-label",id:"exam-type-select",value:b,label:"Exam Type",onChange:J,children:[e.jsx(x,{value:"all",children:"All Exams"}),e.jsx(x,{value:"ABO",children:"ABO"}),e.jsx(x,{value:"NCLE",children:"NCLE"})]})]})}),e.jsx(j,{item:!0,xs:12,sm:4,children:e.jsxs(L,{fullWidth:!0,children:[e.jsx(N,{id:"difficulty-label",children:"Difficulty"}),e.jsxs($,{labelId:"difficulty-label",id:"difficulty-select",value:g,label:"Difficulty",onChange:K,children:[e.jsx(x,{value:"all",children:"All Levels"}),e.jsx(x,{value:"beginner",children:"Beginner"}),e.jsx(x,{value:"intermediate",children:"Intermediate"}),e.jsx(x,{value:"advanced",children:"Advanced"})]})]})}),e.jsx(j,{item:!0,xs:12,sm:4,children:e.jsx(v,{fullWidth:!0,variant:u?"contained":"outlined",color:"primary",startIcon:u?e.jsx(I,{}):e.jsx(B,{}),onClick:R,sx:{height:"56px"},children:u?"Showing Bookmarked":"Show Bookmarked"})})]}),e.jsxs(d,{mt:2,display:"flex",alignItems:"center",children:[e.jsxs(c,{children:[a.length," flashcards available"]}),e.jsx(y,{label:`${t.filter(s=>s.bookmarked).length} Bookmarked`,color:"primary",variant:"outlined",sx:{ml:2}})]})]}),a.length>0?e.jsx(e.Fragment,{children:F===0?e.jsxs(d,{sx:{mb:4},children:[e.jsxs(c,{variant:"subtitle1",sx:{mb:2},children:["Card ",i+1," of ",a.length]}),e.jsxs(H,{sx:{height:350,display:"flex",flexDirection:"column",cursor:"pointer",transition:"transform 0.6s",perspective:1e3,backgroundColor:f?"#f0f8ff":"white"},onClick:q,children:[e.jsxs(W,{sx:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:4},children:[e.jsx(d,{position:"absolute",top:10,right:10,children:e.jsx(D,{color:"primary",onClick:s=>{s.stopPropagation(),z(a[i].id)},children:a[i].bookmarked?e.jsx(I,{}):e.jsx(B,{})})}),e.jsxs(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(y,{label:a[i].examType,color:a[i].examType==="ABO"?"primary":"secondary",size:"small",sx:{mr:1}}),e.jsx(y,{label:a[i].difficulty,color:"default",size:"small"})]}),e.jsx(c,{variant:f?"body1":"h5",align:"center",sx:{mb:2},children:f?"Definition:":"Term:"}),e.jsx(c,{variant:f?"body1":"h6",align:"center",children:f?a[i].definition:a[i].term}),e.jsx(d,{sx:{mt:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(y,{icon:e.jsx(le,{}),label:"Click to flip",variant:"outlined"})})]}),e.jsxs(te,{sx:{justifyContent:"space-between",p:2},children:[e.jsx(v,{startIcon:e.jsx(ae,{}),disabled:i===0,onClick:s=>{s.stopPropagation(),U()},children:"Previous"}),e.jsx(v,{endIcon:e.jsx(ie,{}),disabled:i===a.length-1,onClick:s=>{s.stopPropagation(),Q()},children:"Next"})]})]})]}):e.jsx(j,{container:!0,spacing:2,children:a.map((s,r)=>e.jsx(j,{item:!0,xs:12,sm:6,md:4,children:e.jsx(H,{sx:{height:"100%"},children:e.jsxs(W,{children:[e.jsxs(d,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:[e.jsxs(d,{children:[e.jsx(y,{label:s.examType,color:s.examType==="ABO"?"primary":"secondary",size:"small",sx:{mr:1}}),e.jsx(y,{label:s.difficulty,color:"default",size:"small"})]}),e.jsx(D,{color:"primary",onClick:()=>z(s.id),children:s.bookmarked?e.jsx(I,{}):e.jsx(B,{})})]}),e.jsx(c,{variant:"h6",sx:{mt:2,mb:1},children:s.term}),e.jsx(Z,{sx:{my:1}}),e.jsx(c,{variant:"body2",color:"text.secondary",children:s.definition})]})})},s.id))})}):e.jsxs(P,{sx:{p:4,textAlign:"center"},children:[e.jsx(c,{variant:"h6",color:"text.secondary",children:"No flashcards match your current filters"}),e.jsx(v,{variant:"contained",sx:{mt:2},onClick:()=>{E("all"),S("all"),A(!1)},children:"Reset Filters"})]})]})};export{ke as default};
